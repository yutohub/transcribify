[
  {
    "start": 250,
    "end": 7594,
    "text": "さて、このビデオでは、非表示または仮想のドキュメント埋め込みの概念を見ていきます。"
  },
  {
    "start": 7722,
    "end": 15146,
    "text": "これは、関連性ラベルを用いない正確なゼロショット密集検索と呼ばれる論文に由来する。"
  },
  {
    "start": 15258,
    "end": 24982,
    "text": "密な検索とは、類似検索や意味検索で物事を調べることであり、通常はベクトルストアを使用する。"
  },
  {
    "start": 25156,
    "end": 33542,
    "text": "この論文は昨年末に発表されたものだが、まだ十分な関心を持たれていないような気がする。"
  },
  {
    "start": 33676,
    "end": 42742,
    "text": "非常にシンプルでありながら、ラグ・システム全体を向上させることができる非常に強力なテクニックだ。"
  },
  {
    "start": 42886,
    "end": 48090,
    "text": "論文のこの図を見れば、これがどのように機能するかの基本がわかるだろう。"
  },
  {
    "start": 48240,
    "end": 59642,
    "text": "つまり、クエリーをシステムに入力し、そのクエリーのエンベッディングを調べ、そのエンベッディングをすべての可能なチャンクと比較するのです。"
  },
  {
    "start": 59706,
    "end": 61200,
    "text": "最良の答えを見つけるために。"
  },
  {
    "start": 61570,
    "end": 65058,
    "text": "実際には、真ん中に大きな言語モデルを使うつもりだ。"
  },
  {
    "start": 65224,
    "end": 70754,
    "text": "真ん中にある大きな言語モデルがすることは、仮定の答えを書くことだ。"
  },
  {
    "start": 70952,
    "end": 73170,
    "text": "なぜこれを使うのか？"
  },
  {
    "start": 73240,
    "end": 74706,
    "text": "説明しよう。"
  },
  {
    "start": 74888,
    "end": 89294,
    "text": "時々、誰かがとても当たり障りのない質問をしてきたり、名詞が含まれていなかったり、答えを見つけるために簡単に調べられるようなことがなかったりすると、かなり難しいことがある。"
  },
  {
    "start": 89442,
    "end": 95882,
    "text": "マクドナルドを例にとれば、マクドナルドは何を売っているのか？"
  },
  {
    "start": 95936,
    "end": 97210,
    "text": "食べ物を売っている。"
  },
  {
    "start": 97360,
    "end": 103398,
    "text": "マクドナルドのベストアイテムは何ですか？"
  },
  {
    "start": 103574,
    "end": 112490,
    "text": "この質問をすれば、私が食べ物の話をしていること、そしておそらくハンバーガーやシェイク、フライドポテトの話をしていることがわかるだろう。"
  },
  {
    "start": 112650,
    "end": 118814,
    "text": "課題であるファーストフードの種類は、クエリには書かれていない。"
  },
  {
    "start": 118942,
    "end": 133462,
    "text": "例えば、マクドナルドという単語が出てこなかったとして、マクドナルドについて話していて、今一番売れている商品は何だろう？"
  },
  {
    "start": 133516,
    "end": 134770,
    "text": "売れ筋商品。"
  },
  {
    "start": 134850,
    "end": 143866,
    "text": "それに、我々のセマンティック・ベクター・ストアでビッグマックを探しても、おそらく見つかる確率はそれなりに低いだろう。"
  },
  {
    "start": 144048,
    "end": 151830,
    "text": "この場合、言語モデルにまず答えを書かせるのが、最善の方法のひとつだ。"
  },
  {
    "start": 152000,
    "end": 157294,
    "text": "今はエンドユーザーに答えを見せないように書いている。"
  },
  {
    "start": 157492,
    "end": 163358,
    "text": "答えを書くのは、埋め込むための何かを得るためだ。"
  },
  {
    "start": 163524,
    "end": 188826,
    "text": "例えば、大規模な言語モデルが答えを書いたとして、その答えが「一番売れているのはビッグマックです」とか「一番売れているのはチューズデー・バーガーです」とか書いてあったとして、それが間違った答えだったとしても、ハンバーガーについて話していたり、マクドナルドについて話していたり、いろいろなことについて話していることに気づくでしょう。"
  },
  {
    "start": 189008,
    "end": 199926,
    "text": "これにより、クエリと答えの埋め込み類似度ではなく、答えと答えの埋め込み類似度を行うことができます。"
  },
  {
    "start": 200038,
    "end": 202282,
    "text": "しかし、これが実によく機能することがわかった。"
  },
  {
    "start": 202336,
    "end": 216002,
    "text": "言語モデルがまったく知らないトピックについて話している場合、この方法は必ずしもうまく機能するとは限らない。"
  },
  {
    "start": 216056,
    "end": 218878,
    "text": "ノートにその例を示そう。"
  },
  {
    "start": 219054,
    "end": 230614,
    "text": "全体的に、かなり特殊なことを調べる必要がある場合は、言語モデルにこれをやらせるのが良い場合が多い。"
  },
  {
    "start": 230652,
    "end": 242054,
    "text": "さて、もうひとつできることは、ただひとつの答えを生成するのではなく、複数の答えを生成し、それらを埋め込みモデルで平均化することだ。"
  },
  {
    "start": 242092,
    "end": 248138,
    "text": "それぞれの埋め込みをとって平均化することで、基本的にいろいろなことを調べることができる。"
  },
  {
    "start": 248224,
    "end": 253758,
    "text": "しかし、これは非常に強力なテクニックだ。"
  },
  {
    "start": 253844,
    "end": 257886,
    "text": "コードに飛び込んで、これが実際にどのように機能するのかを見てみよう。"
  },
  {
    "start": 258068,
    "end": 262634,
    "text": "hideは仮想的な文書埋め込みであることを覚えておいてほしい。"
  },
  {
    "start": 262762,
    "end": 275634,
    "text": "このアイデアは、大規模な言語モデルを使って仮の答えを作成し、それを埋め込んで、このボロ文書に対する検索に使おうというものだ。"
  },
  {
    "start": 275752,
    "end": 284386,
    "text": "つまり、これを実行するには、ベース埋め込み、またはベース埋め込みモデルが必要で、LLMチェーンが必要なのだ。"
  },
  {
    "start": 284498,
    "end": 286370,
    "text": "プロンプトを変更することがわかるだろう。"
  },
  {
    "start": 286450,
    "end": 291866,
    "text": "基本的なプロンプトをいくつか用意したが、これからカスタムプロンプトも用意していこう。"
  },
  {
    "start": 292048,
    "end": 294762,
    "text": "私が何を持ち込んでいるか、おわかりいただけただろうか。"
  },
  {
    "start": 294816,
    "end": 302614,
    "text": "大規模な言語モデルにはOpenAIを使い、エンベッディングにはBGEのエンベッディングを使うつもりだ。"
  },
  {
    "start": 302742,
    "end": 306234,
    "text": "その結果、エンベッディングが生成されることがわかるだろう。"
  },
  {
    "start": 306282,
    "end": 313598,
    "text": "あなたが使いたいエンベッディング・システムと交換することができる。"
  },
  {
    "start": 313684,
    "end": 316930,
    "text": "ここでは、量子化エンベッディングを使うことができる。"
  },
  {
    "start": 317080,
    "end": 320526,
    "text": "よし、ここからがマジックの始まりだ。"
  },
  {
    "start": 320638,
    "end": 327282,
    "text": "エンベッディングを取り出そうとしているのがわかると思うが、実はここでやっているのはチェーンを作ることなんだ。"
  },
  {
    "start": 327416,
    "end": 333094,
    "text": "これは大規模な言語モデル・チェーンから、ここでセットアップした実際のエンベッダーに渡している。"
  },
  {
    "start": 333132,
    "end": 335250,
    "text": "BGEエンベッディングをセットアップしました。"
  },
  {
    "start": 335410,
    "end": 340150,
    "text": "これでクエリーを取り込む。"
  },
  {
    "start": 340490,
    "end": 344922,
    "text": "このプロンプトを見れば、何をするのかがわかるだろう。"
  },
  {
    "start": 344976,
    "end": 347962,
    "text": "質問に答える文章を書いてください。"
  },
  {
    "start": 348096,
    "end": 351050,
    "text": "これは非常に単純な例だ。"
  },
  {
    "start": 351120,
    "end": 359022,
    "text": "後ほど説明するが、このような書き方をして、自分たちの特定のユースケースに合わせてカスタマイズするのが良い場合が多い。"
  },
  {
    "start": 359076,
    "end": 361022,
    "text": "でもまあ、何があるかはわかる。"
  },
  {
    "start": 361156,
    "end": 369378,
    "text": "さっき話したことをもう一度説明すると、マクドナルドはどんな商品を作っているのか？"
  },
  {
    "start": 369464,
    "end": 379074,
    "text": "マクドナルドがハンバーガーやフライドポテトなどの食品を製造していることは知っている。"
  },
  {
    "start": 379202,
    "end": 393674,
    "text": "というのも、もしクエリの埋め込みと答えの埋め戻しをするのであれば、フライドポテトやビッグマックなどの答えが欲しいからだ。"
  },
  {
    "start": 393792,
    "end": 396822,
    "text": "どれも実際のクエリには書かれていない。"
  },
  {
    "start": 396966,
    "end": 403802,
    "text": "ここで大きな言語モデルを使い、ラングチェーン・デバッグをオンにして、各ステップの出力を見ることができるようにした。"
  },
  {
    "start": 403936,
    "end": 406318,
    "text": "大きな言語モデルに入ることがわかる。"
  },
  {
    "start": 406404,
    "end": 408542,
    "text": "基本的には、これに対する答えを書きなさいということだ。"
  },
  {
    "start": 408676,
    "end": 414722,
    "text": "OpenAIが書いた答えは、マクドナルドは様々なものを作ることで知られるファーストフードチェーンである。"
  },
  {
    "start": 414776,
    "end": 421662,
    "text": "ビッグマック、クォーターパウンダーなどのシグネチャー・バーガーをはじめ、チキンサンドイッチ、ラップ、デザートなどがある。"
  },
  {
    "start": 421726,
    "end": 427938,
    "text": "今は、埋め込みに適したコンテンツがたくさんある。"
  },
  {
    "start": 428024,
    "end": 437782,
    "text": "ビッグマックのようなものが今そこに言及されている場合、テキストの一部を探しているとき、おそらくビッグマックに関連するものがそこにマッチするだろう。"
  },
  {
    "start": 437916,
    "end": 444122,
    "text": "これが最初の方法であり、内蔵のプロンプトを使う最もシンプルな方法だ。"
  },
  {
    "start": 444256,
    "end": 448806,
    "text": "次の方法は、複数の世代を持つことだ。"
  },
  {
    "start": 448998,
    "end": 453654,
    "text": "一つの答えを生成するのではなく、複数の答えを生成することができる。"
  },
  {
    "start": 453702,
    "end": 458750,
    "text": "マクドナルドで一番売れている商品は何ですか？"
  },
  {
    "start": 459170,
    "end": 463406,
    "text": "繰り返しになるが、ここでは食べ物の話はしていない。"
  },
  {
    "start": 463428,
    "end": 471602,
    "text": "クエリで検索しているだけでは、食べ物の話をしていることがわからず、混乱してしまう可能性がある。"
  },
  {
    "start": 471736,
    "end": 473826,
    "text": "一方、大規模な言語モデルはそれを理解している。"
  },
  {
    "start": 473848,
    "end": 477106,
    "text": "たとえそれが正確な正解でなくても、私たちに答えを与えてくれる。"
  },
  {
    "start": 477128,
    "end": 480598,
    "text": "ああ、マクドナルド、世界で最も人気のあるファーストフード店のひとつだ。"
  },
  {
    "start": 480764,
    "end": 487282,
    "text": "そのメニューには様々なものがあるが、中でも際立っているのがベストセラーのビッグマックだ。"
  },
  {
    "start": 487346,
    "end": 487670,
    "text": "そうだね。"
  },
  {
    "start": 487740,
    "end": 490278,
    "text": "ここでは、異なる答えがあることがわかる。"
  },
  {
    "start": 490364,
    "end": 492806,
    "text": "ベストセラーは間違いなくビッグマックだ。"
  },
  {
    "start": 492918,
    "end": 494490,
    "text": "いろいろなものがある。"
  },
  {
    "start": 494560,
    "end": 496394,
    "text": "ビッグマックについてまた触れてもらった。"
  },
  {
    "start": 496512,
    "end": 508062,
    "text": "これらの埋め込みを組み合わせると、その埋め込みを使って検索をしたときに、ビッグマックの表現が間違いなく出てくる。"
  },
  {
    "start": 508196,
    "end": 515374,
    "text": "これは、hideが非常にパワフルであることの重要な点のひとつだ。"
  },
  {
    "start": 515502,
    "end": 519006,
    "text": "もうひとつ、自分のプロンプトを使うという手もある。"
  },
  {
    "start": 519198,
    "end": 531074,
    "text": "もし、そのような長い答えを返して欲しくなく、ただ食べ物に言及して欲しいだけなら、「OK、ユーザーの質問には一つの食べ物として答えてください」と言うことができる。"
  },
  {
    "start": 531202,
    "end": 540822,
    "text": "今なら、質問の内容やトピックがなんとなくわかっていて、そのトピックにLLMを誘導するようなケースで使うだろう。"
  },
  {
    "start": 540966,
    "end": 549974,
    "text": "マクドナルドで働く親切なアシスタントです。"
  },
  {
    "start": 550102,
    "end": 553950,
    "text": "メニューにあるさまざまなものについての質問に答えるんだ。"
  },
  {
    "start": 554290,
    "end": 560158,
    "text": "そこにある食品をひとつだけ推薦して答えてください。"
  },
  {
    "start": 560244,
    "end": 563658,
    "text": "マクドナルドのベストセラー商品は何ですか？"
  },
  {
    "start": 563754,
    "end": 568946,
    "text": "あるいは、この場合さらに悪いのは、「今一番売れている商品は何ですか？"
  },
  {
    "start": 568968,
    "end": 569966,
    "text": "一番売れている商品は何ですか？"
  },
  {
    "start": 569998,
    "end": 572814,
    "text": "埋め込み用にマクドナルドも入っていない。"
  },
  {
    "start": 572942,
    "end": 574514,
    "text": "それはうまくいかないだろう。"
  },
  {
    "start": 574632,
    "end": 578834,
    "text": "一方、このユーザー・プロンプトをうまく設定すれば、そのことがわかる。"
  },
  {
    "start": 578952,
    "end": 583394,
    "text": "私たちは何かを取り戻すことができる。この場合、私たちは単品が欲しかっただけなのだ。"
  },
  {
    "start": 583442,
    "end": 584198,
    "text": "何が返ってきたのか？"
  },
  {
    "start": 584284,
    "end": 584962,
    "text": "ビッグマック"
  },
  {
    "start": 585026,
    "end": 586850,
    "text": "ビッグマックに埋め込むことができる。"
  },
  {
    "start": 586930,
    "end": 588866,
    "text": "ビッグマックの埋め込みだ。"
  },
  {
    "start": 588978,
    "end": 592006,
    "text": "そうすれば、この種のことを検索することができる。"
  },
  {
    "start": 592108,
    "end": 594570,
    "text": "どのようにまとめればいいのか、ちょっとだけお見せしましょう。"
  },
  {
    "start": 594720,
    "end": 598086,
    "text": "彼らの元の例では、1つのファイルを使っていただけだ。"
  },
  {
    "start": 598118,
    "end": 602730,
    "text": "ここにテキスト・ローダーをいくつか入れた。"
  },
  {
    "start": 602800,
    "end": 607454,
    "text": "さて、ここに2つの例がある。1つはここにないもので、もう1つはここに示しているものだ。"
  },
  {
    "start": 607492,
    "end": 609678,
    "text": "まず、ここで機能するものをお見せしましょう。"
  },
  {
    "start": 609844,
    "end": 614426,
    "text": "これは、大規模言語モデルに関するユーザーの質問にお答えするものです。"
  },
  {
    "start": 614618,
    "end": 616978,
    "text": "ここでもカスタムプロンプトで誘導している。"
  },
  {
    "start": 617064,
    "end": 619326,
    "text": "チャットローダーって何？"
  },
  {
    "start": 619518,
    "end": 622034,
    "text": "間違ったことをでっち上げるようなものだろう？"
  },
  {
    "start": 622072,
    "end": 626978,
    "text": "チャットローダーは、大規模な言語モデルをチャットボットアプリケーションにロードするために使用されるソフトウェアツールです。"
  },
  {
    "start": 627074,
    "end": 642242,
    "text": "でも、重要なことはすべて書いてあるから問題ない。"
  },
  {
    "start": 642306,
    "end": 647642,
    "text": "チャットローダーは、自分の声でチャットモデルを微調整する。"
  },
  {
    "start": 647696,
    "end": 651018,
    "text": "これがその例である。"
  },
  {
    "start": 651104,
    "end": 652662,
    "text": "ちょっと気をつけないといけないね。"
  },
  {
    "start": 652726,
    "end": 657786,
    "text": "本来なら、他のノートでやったようにラングスミスの例をやるつもりだった。"
  },
  {
    "start": 657898,
    "end": 664450,
    "text": "そこでの課題は、ラングスミスが何であったかについて、大きな言語モデルが何も知らないということだった。"
  },
  {
    "start": 664600,
    "end": 675486,
    "text": "私が質問プロンプトで過剰に誘導しない限り、「ああ、これは言語学習ソフトだから気をつけた方がいいよ」と返ってくるだけだ。"
  },
  {
    "start": 675678,
    "end": 683298,
    "text": "言語モデルが聞いたこともないような、まったく新しいものであれば、hideの使用には少し注意したい。"
  },
  {
    "start": 683394,
    "end": 694534,
    "text": "他の状況では、単にクエリを埋め込んで答えに対してクエリを実行するよりも、hideを使った方が良い結果が得られることが多い。"
  },
  {
    "start": 694652,
    "end": 696946,
    "text": "これは非常に強力なテクニックだ。"
  },
  {
    "start": 697058,
    "end": 702222,
    "text": "ぜひチェックして、自分のプロジェクトで試してみてください。"
  },
  {
    "start": 702356,
    "end": 705294,
    "text": "いつものように、質問があれば下のコメントに書いてください。"
  },
  {
    "start": 705412,
    "end": 710814,
    "text": "このビデオが役に立ったと思ったら、「いいね！」と「購読」をクリックしてください。"
  },
  {
    "start": 710932,
    "end": 711580,
    "text": "とりあえず、さようなら。"
  }
]