[
  {
    "start": 160,
    "end": 5816,
    "text": "創業 100 年のこの Web サイトは、どのようにしてインターネット上で最速の Web サイトを持っているのでしょうか。これは 100 年ではなく 100 年の企業です。"
  },
  {
    "start": 5848,
    "end": 12376,
    "text": "これは昨夜の Kenneth Castle のツイートで、なぜこの Web サイトがこんなに速いと感じるのかを簡単に調べてみました。"
  },
  {
    "start": 12408,
    "end": 21336,
    "text": "その理由を詳しく説明する簡単なビデオを作成しましょう。概要から見ると古い Web サイトのように見えますが、古き良き HTML は素晴らしく高速です。"
  },
  {
    "start": 21368,
    "end": 33476,
    "text": "そうではありません。McMaster Carr の Web サイトの背後にあるエンジニアは、この Web サイトをできる限り高速に作成するためにあらゆることを行っており、この本にあるすべてのトリックを使用していると私は信じています。"
  },
  {
    "start": 33548,
    "end": 38596,
    "text": "私がそれをどのように理解したかを掘り下げて、これらの多くのことがどのように機能するかを説明しましょう。"
  },
  {
    "start": 38668,
    "end": 42900,
    "text": "まず第一に、サーバーはすべての HTML をレンダリングしていますよね?"
  },
  {
    "start": 42940,
    "end": 46004,
    "text": "JavaScript フレームワークなどは使用していません。"
  },
  {
    "start": 46172,
    "end": 51604,
    "text": "単純に、サーバーは HTML を返し、ブラウザは HTML のレンダリングに非常に優れています。"
  },
  {
    "start": 51732,
    "end": 55774,
    "text": "現在、HTML もプリフェッチしています。"
  },
  {
    "start": 55822,
    "end": 62222,
    "text": "これをクリアして、ここにあるリンクのいくつかにカーソルを合わせると、ネットワークがおかしくなっていることがわかります。"
  },
  {
    "start": 62286,
    "end": 67502,
    "text": "これらのいずれかをクリックすると、HTML が返されていることがわかります。"
  },
  {
    "start": 67566,
    "end": 84040,
    "text": "何が起こっているのかというと、あなたがリンクの上にマウスを置くと、そのページの HTML を取得するリクエストが送信され、あなたがそれをクリックしてしまうと、私がこのアンカーをクリックしたときに彼らは監視することができるのです。 URL バーをクリックして実際のページを確認します。"
  },
  {
    "start": 84620,
    "end": 87636,
    "text": "URL が変更される前にページがレンダリングされます。"
  },
  {
    "start": 87748,
    "end": 95556,
    "text": "そこで何が起こっているのかというと、彼らは単にこの HTML をシェルと呼んで取り出しているだけなのです。"
  },
  {
    "start": 95668,
    "end": 107584,
    "text": "ソースを見ると、変更されるウェブサイトの一部を置き換えているだけで、ナビゲーションや注文、おそらくショッピングカートなど、ページごとに変更されないことがわかりました。"
  },
  {
    "start": 107632,
    "end": 108928,
    "text": "明らかに彼らはそれを変えます。"
  },
  {
    "start": 108984,
    "end": 109600,
    "text": "それは新しいことではありません。"
  },
  {
    "start": 109640,
    "end": 115776,
    "text": "私たちは長い間プッシュ状態でそれを行ってきましたが、彼らはそれを行っているので、快適でキビキビとした感じになります。"
  },
  {
    "start": 115808,
    "end": 125312,
    "text": "レンタル、事前レンダリング、事前ダウンロード、その後プッシュ状態を使用してそれを配置するまでの間に、現在ではキャッシュもかなり積極的に使用しています。"
  },
  {
    "start": 125376,
    "end": 135596,
    "text": "これらのリクエストのヘッダーを見てみると、多くの場合、キャッシュされているかどうかを示すヘッダーのようなものが表示されます。"
  },
  {
    "start": 135668,
    "end": 140940,
    "text": "これはキャッシュされていないように見えますが、こことこれでヒット・オア・ミスのようなものがよく見られます。"
  },
  {
    "start": 140980,
    "end": 148540,
    "text": "Akamai Technologies は、事前にレンダリングされた HTML を保存するために CDN を使用しているとも述べています。"
  },
  {
    "start": 148620,
    "end": 150460,
    "text": "この TCP は、それが何を意味するかを強調しています。"
  },
  {
    "start": 150500,
    "end": 156380,
    "text": "これは Squid キャッシュと呼ばれるものを使用しており、大量の HTML をキャッシュする小さなプロキシにすぎません。"
  },
  {
    "start": 156540,
    "end": 159852,
    "text": "現在では、HTML 用の Service Worker も使用しています。"
  },
  {
    "start": 159916,
    "end": 173554,
    "text": "ここでネットワークを見て、それをクリアしたら、もう一度ホームページをクリックすると、そのページの読み込みに 65 ミリ秒かかったことがわかります。"
  },
  {
    "start": 173602,
    "end": 176466,
    "text": "サーバーからの送信は非常に高速です。"
  },
  {
    "start": 176498,
    "end": 189484,
    "text": "ここでこのページを更新すると、現在は 7 ミリ秒であることがわかります。これは、世界中の CDN の両方にキャッシュしているためですが、Service Worker と呼ばれるものを使用してブラウザにキャッシュするサービスも提供しているためです。 。"
  },
  {
    "start": 189642,
    "end": 196824,
    "text": "これにより、Service Worker でリクエストをインターセプトし、キャッシュ バージョンを提供できるようになります。"
  },
  {
    "start": 196872,
    "end": 200056,
    "text": "これは、オフラインのプログレッシブ Web アプリの場合に特に役立ちます。"
  },
  {
    "start": 200088,
    "end": 203224,
    "text": "彼らはこれを iOS アプリの強化に使用していると思います。"
  },
  {
    "start": 203312,
    "end": 205608,
    "text": "モバイルアプリも本当に本当に素晴らしいです。"
  },
  {
    "start": 205744,
    "end": 209976,
    "text": "ここでソースを表示して、何が使用されているかを見てみましょう。"
  },
  {
    "start": 210048,
    "end": 213416,
    "text": "これらの大文字を見れば、ASP を使用していることがすぐにわかります。"
  },
  {
    "start": 213608,
    "end": 216066,
    "text": "それが ASP.net の特徴です。"
  },
  {
    "start": 216168,
    "end": 220890,
    "text": "かなりのことが行われていますが、ここで何が起こっているかについての良い手がかりがいくつかあります。"
  },
  {
    "start": 221430,
    "end": 225438,
    "text": "これらはここにあり、リンクのプリロードと DNS プリフェッチです。"
  },
  {
    "start": 225534,
    "end": 250038,
    "text": "これらのプリロードはブラウザーに、「おい、ここにこれが必要だ。これがロゴで、これらはすべて Web フォントであり、ブラウザーに「おい、君はまだこれを知らないことはわかっているが、しかし、これが必要だ」と伝えます。これらのフォントを事前にダウンロードして、必要なときにすぐに読み込めるようにしてください。"
  },
  {
    "start": 250134,
    "end": 260278,
    "text": "これを行わないと、HTML がロードされ、すべての HTML がダウンロードされると解析が開始されがちです。"
  },
  {
    "start": 260414,
    "end": 264582,
    "text": "それを解析すると、必要なものが見つかることがよくあります。"
  },
  {
    "start": 264766,
    "end": 269050,
    "text": "参照するリンク、JavaScript への外部 CSS リンク、画像へのリンク。"
  },
  {
    "start": 269420,
    "end": 273876,
    "text": "よくあるのは、「ああ、CSS ファイルを見つけた、CSS ファイルだ」ということです。"
  },
  {
    "start": 273908,
    "end": 276180,
    "text": "ああ、Web フォントが必要であることがわかりました。"
  },
  {
    "start": 276260,
    "end": 279840,
    "text": "実際に到達するまでに 2 つまたは 3 つのウォーターフォール リクエストが必要です。"
  },
  {
    "start": 280140,
    "end": 290004,
    "text": "CSS が必要であると認識する前にヘッドにプリロードすることで、リトル シーザーズのようにこれらのファイルがすでにホットで準備ができています。"
  },
  {
    "start": 290052,
    "end": 290640,
    "text": "右？"
  },
  {
    "start": 290940,
    "end": 293076,
    "text": "これも DNS プリフェッチです。"
  },
  {
    "start": 293188,
    "end": 305802,
    "text": "もちろん、リクエスト サイクルの一部として実際のイメージをダウンロードする必要がありますが、その一部は単にイメージがimages1.mcmaster.com 上にあるかどうかを確認するだけであり、そのためのサーバーはどこにありますか?"
  },
  {
    "start": 305826,
    "end": 305962,
    "text": "右？"
  },
  {
    "start": 305986,
    "end": 309690,
    "text": "DNS ルックアップを行う必要があるので、時間がかかりますよね?"
  },
  {
    "start": 309810,
    "end": 321210,
    "text": "ブラウザに、「これらのドメイン名を調べて、それらが実際にどこに存在するかを調べてください」と伝えることができます。そうすれば、私が画像をリクエストしたときに、その部分はすでにわかっています。"
  },
  {
    "start": 321250,
    "end": 324830,
    "text": "DNS ルックアップが不要になり、はるかに高速になります。"
  },
  {
    "start": 325890,
    "end": 328490,
    "text": "彼らはここでも他の大量のプリロードを行っています。"
  },
  {
    "start": 328530,
    "end": 331590,
    "text": "画像の処理方法については、すぐに説明します。"
  },
  {
    "start": 331890,
    "end": 335162,
    "text": "また興味深いのは、CSS です。"
  },
  {
    "start": 335306,
    "end": 347402,
    "text": "スクロールしてもスクロールしても、ページ上で CSS を探しても、CSS に読み込まれるリンク タグは実際には見つかりません。"
  },
  {
    "start": 347546,
    "end": 356174,
    "text": "ここで彼らがやっていることは、本文に到達する前に CSS を style タグに読み込んでいることです。"
  },
  {
    "start": 356342,
    "end": 369870,
    "text": "これは何をするのかというと、これはクリティカル CSS と呼ばれます。ブラウザはすでに CSS をダウンロードしており、停止して取得する必要はなく、ページに HTML を読み込む前にすべての CSS を解析するだけで済みます。"
  },
  {
    "start": 369950,
    "end": 384256,
    "text": "これを行う利点は、この HTML がページにレンダリングされるとすぐに、ブラウザーはそれに適用する CSS をすでに認識しているため、奇妙なページ ジャンクやクリティカルと呼ばれるものがすぐに発生しないことです。 CSS。"
  },
  {
    "start": 384368,
    "end": 385952,
    "text": "ここには JavaScript も含まれています。"
  },
  {
    "start": 385976,
    "end": 399540,
    "text": "必要な追加の CSS が読み込まれるように見えますが、実際のホームページとレイアウトの種類を読み込むためのものは、HTML の一部として直接読み込まれます。"
  },
  {
    "start": 399880,
    "end": 404840,
    "text": "実際に何が必要かを判断するための何らかのプロセスが必要です。"
  },
  {
    "start": 404960,
    "end": 413608,
    "text": "CSS の場合も、ここのパフォーマンス タブを見ると、コンテンツフル ペイントの最大値が 174 ミリ秒であることがわかります。"
  },
  {
    "start": 413704,
    "end": 418856,
    "text": "これは、ブラウザがページ上の最大の要素をレンダリングするのにかかる時間です。"
  },
  {
    "start": 418888,
    "end": 427464,
    "text": "大量の CSS がある場合、画像が読み込まれ、それが動き、さらに CSS をダウンロードしてから Web フォントをダウンロードします。"
  },
  {
    "start": 427512,
    "end": 429800,
    "text": "さて、それを再レンダリングする必要がありますね?"
  },
  {
    "start": 429840,
    "end": 435634,
    "text": "CSS を何度も再レンダリングする必要がありますが、これは非常に高速です。"
  },
  {
    "start": 435682,
    "end": 441714,
    "text": "プリロードされた CSS は何もないため、174 ミリ秒です。"
  },
  {
    "start": 441842,
    "end": 442914,
    "text": "ジャンクはありません。"
  },
  {
    "start": 442962,
    "end": 443170,
    "text": "右。"
  },
  {
    "start": 443210,
    "end": 443890,
    "text": "これを見てください。"
  },
  {
    "start": 444010,
    "end": 451298,
    "text": "変化が見られるのは、これらの画像がダウンロードされている間のほんの一瞬だけです。"
  },
  {
    "start": 451394,
    "end": 454802,
    "text": "これを実行している間、ページ上では何も動きません。"
  },
  {
    "start": 454986,
    "end": 457858,
    "text": "次に、ページ上の実際の画像について説明します。"
  },
  {
    "start": 457954,
    "end": 466428,
    "text": "ここでこれらの要素を検査すると、実際の画像の幅と高さが固定されていることがわかります。"
  },
  {
    "start": 466524,
    "end": 478428,
    "text": "これにより何ができるかというと、ブラウザが画像がどのくらいの大きさになるかわからない場合、画像に 0 ピクセル x 0 ピクセルを与えてダウンロードし、コンテンツをプッシュダウンする必要があります。"
  },
  {
    "start": 478484,
    "end": 478796,
    "text": "右。"
  },
  {
    "start": 478868,
    "end": 480320,
    "text": "それは別の再レンダリングです。"
  },
  {
    "start": 480900,
    "end": 488290,
    "text": "画像タグを明示的に指定した場合、またはこの場合は背景画像を使用している場合は、すぐに説明します。"
  },
  {
    "start": 488590,
    "end": 496566,
    "text": "明示的にスポットを指定し、画像が読み込まれてそのスポットに正確に適合する場合、実際のページではジャンクは発生しません。"
  },
  {
    "start": 496678,
    "end": 503878,
    "text": "ちなみに、私はパフォーマンス担当者ではないので、この件でパフォーマンス担当者を怒らせることになるのはわかっていますが、Web サイトを高速に作成する方法は知っています。"
  },
  {
    "start": 503974,
    "end": 508806,
    "text": "すべて正しい言葉を使っているわけではないかもしれませんが、それほど心配する必要はありません。"
  },
  {
    "start": 508958,
    "end": 514350,
    "text": "そこにある実際の画像では、スピン ブライトと呼ばれる古くからある技術が使用されています。"
  },
  {
    "start": 514850,
    "end": 515626,
    "text": "これを見てください。"
  },
  {
    "start": 515698,
    "end": 521626,
    "text": "これを新しいタブで開くと、そのページのすべての画像が 1 つの画像に表示されます。"
  },
  {
    "start": 521738,
    "end": 527882,
    "text": "これにより、ダウンロードに実際に必要なリクエストの量が削減されます。"
  },
  {
    "start": 527906,
    "end": 531386,
    "text": "画像 93k を 1 つダウンロードするだけです。"
  },
  {
    "start": 531538,
    "end": 535786,
    "text": "はい、93,000 相当の実際の画像が 1 つあります。"
  },
  {
    "start": 535898,
    "end": 537550,
    "text": "かなり、かなり素敵です。"
  },
  {
    "start": 538050,
    "end": 542456,
    "text": "おそらく、Amazon に実際にある 1 枚の画像よりも小さいでしょう。"
  },
  {
    "start": 542578,
    "end": 545852,
    "text": "次に、ページに必要な実際の JavaScript について説明します。"
  },
  {
    "start": 545916,
    "end": 557100,
    "text": "ネットワークにアクセスして、ここでページをハードリフレッシュして JS をフィルタリングすると、かなりの量の JavaScript が読み込まれていることがわかります。"
  },
  {
    "start": 557180,
    "end": 560204,
    "text": "これは、これは、ブラウザ拡張機能です。"
  },
  {
    "start": 560252,
    "end": 563740,
    "text": "それ以外はすべて私が計算したと信じています。"
  },
  {
    "start": 563780,
    "end": 565084,
    "text": "すべてのページごとに異なります。"
  },
  {
    "start": 565132,
    "end": 575266,
    "text": "つまり、彼らがやっているのは、どのページで何が必要なのか、どの JavaScript が必要なのかを把握し、その JavaScript をそのページにロードするだけです。"
  },
  {
    "start": 575298,
    "end": 576674,
    "text": "私はそれを依存性注入と呼んでいます。"
  },
  {
    "start": 576722,
    "end": 578466,
    "text": "ツイートでは人々が激怒しました。"
  },
  {
    "start": 578578,
    "end": 582354,
    "text": "彼らは本質的に、このページにはこれらの依存関係が必要だと言っているのです。"
  },
  {
    "start": 582402,
    "end": 583874,
    "text": "そのページにのみロードしてください。"
  },
  {
    "start": 583922,
    "end": 585442,
    "text": "見てみたら。"
  },
  {
    "start": 585546,
    "end": 600990,
    "text": "ここをクリックし始めて、応答内の製品ページの 1 つを見ると、実際に必要な JavaScript の部分を示すデータがこの小さなメタデータに含まれていることがよくあります。"
  },
  {
    "start": 601030,
    "end": 601470,
    "text": "さぁ行こう。"
  },
  {
    "start": 601510,
    "end": 609326,
    "text": "JS にはファイル パスが含まれるため、バックエンドに JavaScript をページごとに分割するツールが必要です。"
  },
  {
    "start": 609438,
    "end": 615854,
    "text": "サーバーでレンダリングされた REACT フレームワークのようなものを使用している場合、これは非常に簡単であり、心配する必要はありません。"
  },
  {
    "start": 615942,
    "end": 625830,
    "text": "世の中には、実際にどの JavaScript が必要なのかを理解するのが非常に難しいため、単にすべてのページにすべての JavaScript をロードするだけの Web サイトがたくさんあります。"
  },
  {
    "start": 626170,
    "end": 627922,
    "text": "ASPについてはあまり詳しくありません。"
  },
  {
    "start": 627986,
    "end": 628210,
    "text": "ネット。"
  },
  {
    "start": 628250,
    "end": 644514,
    "text": "これは Web フレームワークの一部にすぎない可能性がありますが、サーバーは CSS、画像、JavaScript を認識しているため、実際に必要な JavaScript のみをページに読み込むような方法でそれらをバンドルすることができます。"
  },
  {
    "start": 644642,
    "end": 647710,
    "text": "では、彼らは実際にどのような JavaScript を使用しているのでしょうか?"
  },
  {
    "start": 648010,
    "end": 649858,
    "text": "私もそれに浸ってみました。"
  },
  {
    "start": 649914,
    "end": 653890,
    "text": "ここで「JavaScript」タブに移動すると、これらのいくつかを見てみましょう。"
  },
  {
    "start": 655710,
    "end": 664326,
    "text": "まず、窓の性能や性能マークを見れば、彼らがこの種のことを非常に重視していることがわかりますよね?"
  },
  {
    "start": 664478,
    "end": 671174,
    "text": "彼らはこのページのすべてを完全に測定して、それが本当にうまく機能することを確認しています。"
  },
  {
    "start": 671342,
    "end": 677894,
    "text": "彼らが何を使っているのか確認しようとクリックしてみたところ、YUI、つまり YUI が使われていました。"
  },
  {
    "start": 677942,
    "end": 686212,
    "text": "Copyright 2008 これは非常に古いライブラリであり、機能豊富でインタラクティブな Web アプリケーションを構築するための無料のオープンソース JavaScript CSS ライブラリです。"
  },
  {
    "start": 686276,
    "end": 686644,
    "text": "右。"
  },
  {
    "start": 686732,
    "end": 693172,
    "text": "これはずっと昔に Yahoo から提供されたもので、このページでも JQuery で読み込まれています。"
  },
  {
    "start": 693196,
    "end": 695840,
    "text": "コンソールから実行できるかどうかはわかりません。"
  },
  {
    "start": 696380,
    "end": 698084,
    "text": "はい、そこにJQueryがあります。"
  },
  {
    "start": 698172,
    "end": 700276,
    "text": "恐ろしく速いウェブサイト。"
  },
  {
    "start": 700348,
    "end": 704996,
    "text": "使用しているフレームワークやその他のものは関係ありません。"
  },
  {
    "start": 705068,
    "end": 710704,
    "text": "15 年前のテクノロジーを使用している可能性がありますが、それでもかなりの量が読み込まれています。"
  },
  {
    "start": 710752,
    "end": 713168,
    "text": "JavaScript は 800k だったと思います。"
  },
  {
    "start": 713264,
    "end": 726304,
    "text": "ページに HTML をロードしたり、ブロックしたり再レンダリングしたりせず、たくさんのファンキーなことを行うという実際の重要な作業の邪魔にならないような方法でそれが行われているため、速く感じられます。"
  },
  {
    "start": 726352,
    "end": 728640,
    "text": "この作業はサーバーレンダリングされた React で実行できます。"
  },
  {
    "start": 728720,
    "end": 735134,
    "text": "このようなことは 20 年前の ASP 技術で実行できるので、私にとっては非常に興味深いです。"
  },
  {
    "start": 735232,
    "end": 741970,
    "text": "ここには 70 万点の商品があると思うので、ウェブサイトの表示が遅い部分があります。"
  },
  {
    "start": 742010,
    "end": 743230,
    "text": "彼らはそうしなければなりません。"
  },
  {
    "start": 743610,
    "end": 745314,
    "text": "データベースの検索が遅くなる場合があります。"
  },
  {
    "start": 745362,
    "end": 745522,
    "text": "右。"
  },
  {
    "start": 745546,
    "end": 748578,
    "text": "彼らはパフォーマンスの向上に多くの時間を費やしたと思います。"
  },
  {
    "start": 748634,
    "end": 750210,
    "text": "彼らはそれをすべて表現しなければなりません。"
  },
  {
    "start": 750250,
    "end": 751522,
    "text": "すべてをキャッシュする必要があります。"
  },
  {
    "start": 751626,
    "end": 752418,
    "text": "あるように。"
  },
  {
    "start": 752474,
    "end": 753122,
    "text": "これを見てください。"
  },
  {
    "start": 753226,
    "end": 756722,
    "text": "その場合はそうでした。"
  },
  {
    "start": 756746,
    "end": 759202,
    "text": "そのページにはかなり良いスピナーが表示されていました。"
  },
  {
    "start": 759266,
    "end": 762460,
    "text": "残酷ではありませんが、ここではかなり高速なインターネットを利用しています。"
  },
  {
    "start": 762500,
    "end": 763900,
    "text": "きっとそれに近いと思います。"
  },
  {
    "start": 763940,
    "end": 769612,
    "text": "彼らは今説明したすべてのテクニックを使用しているため、Web サイトは非常に高速に感じられます。"
  },
  {
    "start": 769676,
    "end": 770636,
    "text": "とても速く動作します。"
  },
  {
    "start": 770668,
    "end": 782700,
    "text": "この Web サイトを使用している人は、ガス スプリングを備え、392 度まで動作する蓋サポート ヒンジを見つけることができる必要があります。"
  },
  {
    "start": 782860,
    "end": 787580,
    "text": "それの19.49インチバージョンが必要です。"
  },
  {
    "start": 787620,
    "end": 788012,
    "text": "右。"
  },
  {
    "start": 788116,
    "end": 793500,
    "text": "このカタログにすぐにアクセスして、すべての情報を確実に入手できます。"
  },
  {
    "start": 793620,
    "end": 798172,
    "text": "この Web サイトにアクセスしている人は、指が太い機械工や製造業者です。"
  },
  {
    "start": 798236,
    "end": 803036,
    "text": "彼らは 6 年前の iPhone に OtterBox を入れていますが、とても汚れています。"
  },
  {
    "start": 803148,
    "end": 805260,
    "text": "彼らはそれを大騒ぎしたくないのです。"
  },
  {
    "start": 805300,
    "end": 808620,
    "text": "そうでないと、彼らは電話を取って実際の注文に電話をかけようとするでしょう。"
  },
  {
    "start": 808660,
    "end": 812412,
    "text": "彼らは紙のカタログに戻るつもりだ、なぜならそれが彼らが望んでいることだからだ。"
  },
  {
    "start": 812596,
    "end": 814988,
    "text": "これは非常に印象的なウェブサイトです。"
  },
  {
    "start": 815044,
    "end": 816636,
    "text": "そこに浸ってみると面白いと思いました。"
  },
  {
    "start": 816708,
    "end": 818180,
    "text": "他に何かありましたらお知らせください。"
  }
]